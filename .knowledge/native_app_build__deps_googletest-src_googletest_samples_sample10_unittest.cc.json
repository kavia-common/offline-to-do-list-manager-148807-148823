{"is_source_file": true, "format": "C++", "description": "This file is a test source code using Google Test framework. It implements a leak checker for a custom class 'Water' by tracking object allocations and integrating with Google Test's event listener API. The code includes test cases for leak detection and main function to initialize and execute tests with an optional leak checking feature.", "external_files": ["gtest/gtest.h"], "external_methods": ["::testing::EmptyTestEventListener", "::testing::InitGoogleTest", "::testing::Test", "::testing::TestEventListeners", "::testing::TestInfo", "::testing::UnitTest"], "published": ["main"], "classes": [{"name": "Water", "description": "A class that tracks its own memory allocations; used to demonstrate leak detection."}, {"name": "LeakChecker", "description": "A custom Google Test event listener that checks for object leaks in the Water class between tests."}], "methods": [{"name": "void * operator new(size_t allocation_size)", "description": "Overrides global new operator to increment allocated count.", "scope": "__anon390642610111::Water", "scopeKind": "class"}, {"name": "void operator delete(void * block,size_t)", "description": "Overrides delete operator to decrement allocated count.", "scope": "__anon390642610111::Water", "scopeKind": "class"}, {"name": "Water::allocated", "description": "Returns the current number of Water objects allocated."}, {"name": "LeakChecker::OnTestStart", "description": "Records the number of Water objects allocated at the start of a test."}, {"name": "LeakChecker::OnTestEnd", "description": "Checks for leaks by comparing the number of Water objects allocated at test end."}, {"name": "int main(int argc,char ** argv)", "description": "Initializes Google Test, optionally adds leak checker listener, and runs all tests.", "scope": "", "scopeKind": ""}, {"name": "void OnTestEnd(const TestInfo &)", "scope": "__anon390642610111::LeakChecker", "scopeKind": "class", "description": "unavailable"}, {"name": "void OnTestStart(const TestInfo &)", "scope": "__anon390642610111::LeakChecker", "scopeKind": "class", "description": "unavailable"}, {"name": "TEST(ListenersTest,DoesNotLeak)", "scope": "__anon390642610111", "scopeKind": "namespace", "description": "unavailable"}, {"name": "TEST(ListenersTest,LeaksWater)", "scope": "__anon390642610111", "scopeKind": "namespace", "description": "unavailable"}, {"name": "int allocated()", "scope": "__anon390642610111::Water", "scopeKind": "class", "description": "unavailable"}], "calls": ["::testing::InitGoogleTest", "UnitTest::GetInstance", "TestEventListeners::Append", "RUN_ALL_TESTS"], "search-terms": ["LeakChecker", "Water", "gtest", "sample10_unittest.cc", "Google Test leak detection"], "state": 2, "file_id": 241, "knowledge_revision": 602, "git_revision": "", "ctags": [{"_type": "tag", "name": "LeakChecker", "path": "/home/kavia/workspace/code-generation/offline-to-do-list-manager-148807-148823/native_app/build/_deps/googletest-src/googletest/samples/sample10_unittest.cc", "pattern": "/^class LeakChecker : public EmptyTestEventListener {$/", "file": true, "language": "C++", "kind": "class", "scope": "__anon390642610111", "scopeKind": "namespace"}, {"_type": "tag", "name": "OnTestEnd", "path": "/home/kavia/workspace/code-generation/offline-to-do-list-manager-148807-148823/native_app/build/_deps/googletest-src/googletest/samples/sample10_unittest.cc", "pattern": "/^  void OnTestEnd(const TestInfo& \\/* test_info *\\/) override {$/", "file": true, "language": "C++", "typeref": "typename:void", "kind": "function", "signature": "(const TestInfo &)", "scope": "__anon390642610111::LeakChecker", "scopeKind": "class"}, {"_type": "tag", "name": "OnTestStart", "path": "/home/kavia/workspace/code-generation/offline-to-do-list-manager-148807-148823/native_app/build/_deps/googletest-src/googletest/samples/sample10_unittest.cc", "pattern": "/^  void OnTestStart(const TestInfo& \\/* test_info *\\/) override {$/", "file": true, "language": "C++", "typeref": "typename:void", "kind": "function", "signature": "(const TestInfo &)", "scope": "__anon390642610111::LeakChecker", "scopeKind": "class"}, {"_type": "tag", "name": "TEST", "path": "/home/kavia/workspace/code-generation/offline-to-do-list-manager-148807-148823/native_app/build/_deps/googletest-src/googletest/samples/sample10_unittest.cc", "pattern": "/^TEST(ListenersTest, DoesNotLeak) {$/", "language": "C++", "kind": "function", "signature": "(ListenersTest,DoesNotLeak)", "scope": "__anon390642610111", "scopeKind": "namespace"}, {"_type": "tag", "name": "TEST", "path": "/home/kavia/workspace/code-generation/offline-to-do-list-manager-148807-148823/native_app/build/_deps/googletest-src/googletest/samples/sample10_unittest.cc", "pattern": "/^TEST(ListenersTest, LeaksWater) {$/", "language": "C++", "kind": "function", "signature": "(ListenersTest,LeaksWater)", "scope": "__anon390642610111", "scopeKind": "namespace"}, {"_type": "tag", "name": "Water", "path": "/home/kavia/workspace/code-generation/offline-to-do-list-manager-148807-148823/native_app/build/_deps/googletest-src/googletest/samples/sample10_unittest.cc", "pattern": "/^class Water {$/", "file": true, "language": "C++", "kind": "class", "scope": "__anon390642610111", "scopeKind": "namespace"}, {"_type": "tag", "name": "__anon390642610111", "path": "/home/kavia/workspace/code-generation/offline-to-do-list-manager-148807-148823/native_app/build/_deps/googletest-src/googletest/samples/sample10_unittest.cc", "pattern": "/^namespace {$/", "file": true, "language": "C++", "kind": "namespace"}, {"_type": "tag", "name": "allocated", "path": "/home/kavia/workspace/code-generation/offline-to-do-list-manager-148807-148823/native_app/build/_deps/googletest-src/googletest/samples/sample10_unittest.cc", "pattern": "/^  static int allocated() { return allocated_; }$/", "file": true, "language": "C++", "typeref": "typename:int", "kind": "function", "signature": "()", "scope": "__anon390642610111::Water", "scopeKind": "class"}, {"_type": "tag", "name": "allocated_", "path": "/home/kavia/workspace/code-generation/offline-to-do-list-manager-148807-148823/native_app/build/_deps/googletest-src/googletest/samples/sample10_unittest.cc", "pattern": "/^  static int allocated_;$/", "file": true, "language": "C++", "typeref": "typename:int", "kind": "member", "scope": "__anon390642610111::Water", "scopeKind": "class"}, {"_type": "tag", "name": "allocated_", "path": "/home/kavia/workspace/code-generation/offline-to-do-list-manager-148807-148823/native_app/build/_deps/googletest-src/googletest/samples/sample10_unittest.cc", "pattern": "/^int Water::allocated_ = 0;$/", "language": "C++", "typeref": "typename:int", "kind": "member", "scope": "__anon390642610111::Water", "scopeKind": "class"}, {"_type": "tag", "name": "initially_allocated_", "path": "/home/kavia/workspace/code-generation/offline-to-do-list-manager-148807-148823/native_app/build/_deps/googletest-src/googletest/samples/sample10_unittest.cc", "pattern": "/^  int initially_allocated_;$/", "file": true, "language": "C++", "typeref": "typename:int", "kind": "member", "scope": "__anon390642610111::LeakChecker", "scopeKind": "class"}, {"_type": "tag", "name": "main", "path": "/home/kavia/workspace/code-generation/offline-to-do-list-manager-148807-148823/native_app/build/_deps/googletest-src/googletest/samples/sample10_unittest.cc", "pattern": "/^int main(int argc, char** argv) {$/", "language": "C++", "typeref": "typename:int", "kind": "function", "signature": "(int argc,char ** argv)"}, {"_type": "tag", "name": "operator delete", "path": "/home/kavia/workspace/code-generation/offline-to-do-list-manager-148807-148823/native_app/build/_deps/googletest-src/googletest/samples/sample10_unittest.cc", "pattern": "/^  void operator delete(void* block, size_t \\/* allocation_size *\\/) {$/", "file": true, "language": "C++", "typeref": "typename:void", "kind": "function", "signature": "(void * block,size_t)", "scope": "__anon390642610111::Water", "scopeKind": "class"}, {"_type": "tag", "name": "operator new", "path": "/home/kavia/workspace/code-generation/offline-to-do-list-manager-148807-148823/native_app/build/_deps/googletest-src/googletest/samples/sample10_unittest.cc", "pattern": "/^  void* operator new(size_t allocation_size) {$/", "file": true, "language": "C++", "typeref": "typename:void *", "kind": "function", "signature": "(size_t allocation_size)", "scope": "__anon390642610111::Water", "scopeKind": "class"}], "hash": "5351ad281c2b0cb8929297c246857182", "format-version": 4, "code-base-name": "native_app", "filename": "native_app/build/_deps/googletest-src/googletest/samples/sample10_unittest.cc", "fields": [{"name": "int allocated_", "scope": "__anon390642610111::Water", "scopeKind": "class", "description": "unavailable"}, {"name": "int initially_allocated_", "scope": "__anon390642610111::LeakChecker", "scopeKind": "class", "description": "unavailable"}], "revision_history": [{"602": ""}]}