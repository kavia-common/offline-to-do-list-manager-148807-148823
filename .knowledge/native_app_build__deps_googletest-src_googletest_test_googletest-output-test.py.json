{"is_source_file": true, "format": "Python", "description": "This is a Python test script that verifies the output of Google Test (gtest) framework's command-line interface, processes test outputs, and manages golden files for comparison. It includes functions for output normalization, environment command execution, and test case definitions to ensure consistency across platforms.", "external_files": ["googletest/test/gtest_test_utils.py"], "external_methods": ["gtest_test_utils.GetTestExecutablePath", "gtest_test_utils.Subprocess", "gtest_test_utils.GetSourceDir", "gtest_test_utils.Main"], "published": ["GOLDEN_NAME", "COMMAND_LIST_TESTS", "COMMAND_WITH_COLOR", "COMMAND_WITH_TIME", "COMMAND_WITH_DISABLED", "COMMAND_WITH_SHARDING"], "classes": [{"name": "GTestOutputTest", "description": "A unittest TestCase class that runs Google Test command-line tests, normalizes outputs, and compares against golden files to verify correct output formatting and behavior."}], "methods": [{"name": "RemoveUnsupportedTests(self, test_output)", "description": "Removes test output related to features not supported in the current environment, such as death tests, typed tests, threading tests, and stack traces.", "scope": "GTestOutputTest", "scopeKind": "class"}, {"name": "testOutput(self)", "description": "Main test method which runs a series of gtest command-line executions, normalizes and compares output to expected golden files, and handles golden file creation when specified.", "scope": "GTestOutputTest", "scopeKind": "class"}, {"name": "GetCommandOutput(env_cmd)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "GetOutputOfAllCommands()", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "GetShellCommandOutput(env_cmd)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "NormalizeOutput(output)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "NormalizeToCurrentPlatform(test_output)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "RemoveLocations(test_output)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "RemoveMatchingTests(test_output, pattern)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "RemoveStackTraceDetails(output)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "RemoveStackTraces(output)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "RemoveTestCounts(output)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "RemoveTime(output)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "RemoveTypeInfoDetails(test_output)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "ToUnixLineEnding(s)", "scope": "", "scopeKind": "", "description": "unavailable"}], "calls": ["gtest_test_utils.GetTestExecutablePath", "gtest_test_utils.Subprocess", "gtest_test_utils.GetSourceDir", "difflib.unified_diff", "os.path.join", "open", "os.getenv", "self.assertEqual"], "search-terms": ["googletest python test runner", "gtest output normalization", "golden file comparison python", "gtest command execution", "test output processing", "platform-specific output handling"], "state": 2, "file_id": 221, "knowledge_revision": 577, "git_revision": "", "ctags": [{"_type": "tag", "name": "CAN_GENERATE_GOLDEN_FILE", "path": "/home/kavia/workspace/code-generation/offline-to-do-list-manager-148807-148823/native_app/build/_deps/googletest-src/googletest/test/googletest-output-test.py", "pattern": "/^CAN_GENERATE_GOLDEN_FILE = ($/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "CATCH_EXCEPTIONS_ENV_VAR_NAME", "path": "/home/kavia/workspace/code-generation/offline-to-do-list-manager-148807-148823/native_app/build/_deps/googletest-src/googletest/test/googletest-output-test.py", "pattern": "/^CATCH_EXCEPTIONS_ENV_VAR_NAME = 'GTEST_CATCH_EXCEPTIONS'$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "COMMAND_LIST_TESTS", "path": "/home/kavia/workspace/code-generation/offline-to-do-list-manager-148807-148823/native_app/build/_deps/googletest-src/googletest/test/googletest-output-test.py", "pattern": "/^COMMAND_LIST_TESTS = ({}, [PROGRAM_PATH, '--gtest_list_tests'])$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "COMMAND_WITH_COLOR", "path": "/home/kavia/workspace/code-generation/offline-to-do-list-manager-148807-148823/native_app/build/_deps/googletest-src/googletest/test/googletest-output-test.py", "pattern": "/^COMMAND_WITH_COLOR = ({}, [PROGRAM_PATH, '--gtest_color=yes'])$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "COMMAND_WITH_DISABLED", "path": "/home/kavia/workspace/code-generation/offline-to-do-list-manager-148807-148823/native_app/build/_deps/googletest-src/googletest/test/googletest-output-test.py", "pattern": "/^COMMAND_WITH_DISABLED = ($/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "COMMAND_WITH_SHARDING", "path": "/home/kavia/workspace/code-generation/offline-to-do-list-manager-148807-148823/native_app/build/_deps/googletest-src/googletest/test/googletest-output-test.py", "pattern": "/^COMMAND_WITH_SHARDING = ($/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "COMMAND_WITH_TIME", "path": "/home/kavia/workspace/code-generation/offline-to-do-list-manager-148807-148823/native_app/build/_deps/googletest-src/googletest/test/googletest-output-test.py", "pattern": "/^COMMAND_WITH_TIME = ($/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "GENGOLDEN_FLAG", "path": "/home/kavia/workspace/code-generation/offline-to-do-list-manager-148807-148823/native_app/build/_deps/googletest-src/googletest/test/googletest-output-test.py", "pattern": "/^GENGOLDEN_FLAG = '--gengolden'$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "GOLDEN_NAME", "path": "/home/kavia/workspace/code-generation/offline-to-do-list-manager-148807-148823/native_app/build/_deps/googletest-src/googletest/test/googletest-output-test.py", "pattern": "/^GOLDEN_NAME = 'googletest-output-test-golden-lin.txt'$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "GOLDEN_PATH", "path": "/home/kavia/workspace/code-generation/offline-to-do-list-manager-148807-148823/native_app/build/_deps/googletest-src/googletest/test/googletest-output-test.py", "pattern": "/^GOLDEN_PATH = os.path.join(gtest_test_utils.GetSourceDir(), GOLDEN_NAME)$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "GTestOutputTest", "path": "/home/kavia/workspace/code-generation/offline-to-do-list-manager-148807-148823/native_app/build/_deps/googletest-src/googletest/test/googletest-output-test.py", "pattern": "/^class GTestOutputTest(gtest_test_utils.TestCase):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "GetCommandOutput", "path": "/home/kavia/workspace/code-generation/offline-to-do-list-manager-148807-148823/native_app/build/_deps/googletest-src/googletest/test/googletest-output-test.py", "pattern": "/^def GetCommandOutput(env_cmd):$/", "language": "Python", "kind": "function", "signature": "(env_cmd)"}, {"_type": "tag", "name": "GetOutputOfAllCommands", "path": "/home/kavia/workspace/code-generation/offline-to-do-list-manager-148807-148823/native_app/build/_deps/googletest-src/googletest/test/googletest-output-test.py", "pattern": "/^def GetOutputOfAllCommands():$/", "language": "Python", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "GetShellCommandOutput", "path": "/home/kavia/workspace/code-generation/offline-to-do-list-manager-148807-148823/native_app/build/_deps/googletest-src/googletest/test/googletest-output-test.py", "pattern": "/^def GetShellCommandOutput(env_cmd):$/", "language": "Python", "kind": "function", "signature": "(env_cmd)"}, {"_type": "tag", "name": "IS_LINUX", "path": "/home/kavia/workspace/code-generation/offline-to-do-list-manager-148807-148823/native_app/build/_deps/googletest-src/googletest/test/googletest-output-test.py", "pattern": "/^IS_LINUX = os.name == 'posix' and os.uname()[0] == 'Linux'$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "IS_WINDOWS", "path": "/home/kavia/workspace/code-generation/offline-to-do-list-manager-148807-148823/native_app/build/_deps/googletest-src/googletest/test/googletest-output-test.py", "pattern": "/^IS_WINDOWS = os.name == 'nt'$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "NO_STACKTRACE_SUPPORT_FLAG", "path": "/home/kavia/workspace/code-generation/offline-to-do-list-manager-148807-148823/native_app/build/_deps/googletest-src/googletest/test/googletest-output-test.py", "pattern": "/^NO_STACKTRACE_SUPPORT_FLAG = '--no_stacktrace_support'$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "NormalizeOutput", "path": "/home/kavia/workspace/code-generation/offline-to-do-list-manager-148807-148823/native_app/build/_deps/googletest-src/googletest/test/googletest-output-test.py", "pattern": "/^def NormalizeOutput(output):$/", "language": "Python", "kind": "function", "signature": "(output)"}, {"_type": "tag", "name": "NormalizeToCurrentPlatform", "path": "/home/kavia/workspace/code-generation/offline-to-do-list-manager-148807-148823/native_app/build/_deps/googletest-src/googletest/test/googletest-output-test.py", "pattern": "/^def NormalizeToCurrentPlatform(test_output):$/", "language": "Python", "kind": "function", "signature": "(test_output)"}, {"_type": "tag", "name": "PROGRAM_PATH", "path": "/home/kavia/workspace/code-generation/offline-to-do-list-manager-148807-148823/native_app/build/_deps/googletest-src/googletest/test/googletest-output-test.py", "pattern": "/^PROGRAM_PATH = gtest_test_utils.GetTestExecutablePath('googletest-output-test_')$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "RemoveLocations", "path": "/home/kavia/workspace/code-generation/offline-to-do-list-manager-148807-148823/native_app/build/_deps/googletest-src/googletest/test/googletest-output-test.py", "pattern": "/^def RemoveLocations(test_output):$/", "language": "Python", "kind": "function", "signature": "(test_output)"}, {"_type": "tag", "name": "RemoveMatchingTests", "path": "/home/kavia/workspace/code-generation/offline-to-do-list-manager-148807-148823/native_app/build/_deps/googletest-src/googletest/test/googletest-output-test.py", "pattern": "/^def RemoveMatchingTests(test_output, pattern):$/", "language": "Python", "kind": "function", "signature": "(test_output, pattern)"}, {"_type": "tag", "name": "RemoveStackTraceDetails", "path": "/home/kavia/workspace/code-generation/offline-to-do-list-manager-148807-148823/native_app/build/_deps/googletest-src/googletest/test/googletest-output-test.py", "pattern": "/^def RemoveStackTraceDetails(output):$/", "language": "Python", "kind": "function", "signature": "(output)"}, {"_type": "tag", "name": "RemoveStackTraces", "path": "/home/kavia/workspace/code-generation/offline-to-do-list-manager-148807-148823/native_app/build/_deps/googletest-src/googletest/test/googletest-output-test.py", "pattern": "/^def RemoveStackTraces(output):$/", "language": "Python", "kind": "function", "signature": "(output)"}, {"_type": "tag", "name": "RemoveTestCounts", "path": "/home/kavia/workspace/code-generation/offline-to-do-list-manager-148807-148823/native_app/build/_deps/googletest-src/googletest/test/googletest-output-test.py", "pattern": "/^def RemoveTestCounts(output):$/", "language": "Python", "kind": "function", "signature": "(output)"}, {"_type": "tag", "name": "RemoveTime", "path": "/home/kavia/workspace/code-generation/offline-to-do-list-manager-148807-148823/native_app/build/_deps/googletest-src/googletest/test/googletest-output-test.py", "pattern": "/^def RemoveTime(output):$/", "language": "Python", "kind": "function", "signature": "(output)"}, {"_type": "tag", "name": "RemoveTypeInfoDetails", "path": "/home/kavia/workspace/code-generation/offline-to-do-list-manager-148807-148823/native_app/build/_deps/googletest-src/googletest/test/googletest-output-test.py", "pattern": "/^def RemoveTypeInfoDetails(test_output):$/", "language": "Python", "kind": "function", "signature": "(test_output)"}, {"_type": "tag", "name": "RemoveUnsupportedTests", "path": "/home/kavia/workspace/code-generation/offline-to-do-list-manager-148807-148823/native_app/build/_deps/googletest-src/googletest/test/googletest-output-test.py", "pattern": "/^  def RemoveUnsupportedTests(self, test_output):$/", "language": "Python", "kind": "member", "signature": "(self, test_output)", "scope": "GTestOutputTest", "scopeKind": "class"}, {"_type": "tag", "name": "SUPPORTS_DEATH_TESTS", "path": "/home/kavia/workspace/code-generation/offline-to-do-list-manager-148807-148823/native_app/build/_deps/googletest-src/googletest/test/googletest-output-test.py", "pattern": "/^SUPPORTS_DEATH_TESTS = 'DeathTest' in test_list$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "SUPPORTS_STACK_TRACES", "path": "/home/kavia/workspace/code-generation/offline-to-do-list-manager-148807-148823/native_app/build/_deps/googletest-src/googletest/test/googletest-output-test.py", "pattern": "/^SUPPORTS_STACK_TRACES = NO_STACKTRACE_SUPPORT_FLAG not in sys.argv$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "SUPPORTS_THREADS", "path": "/home/kavia/workspace/code-generation/offline-to-do-list-manager-148807-148823/native_app/build/_deps/googletest-src/googletest/test/googletest-output-test.py", "pattern": "/^SUPPORTS_THREADS = 'ExpectFailureWithThreadsTest' in test_list$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "SUPPORTS_TYPED_TESTS", "path": "/home/kavia/workspace/code-generation/offline-to-do-list-manager-148807-148823/native_app/build/_deps/googletest-src/googletest/test/googletest-output-test.py", "pattern": "/^SUPPORTS_TYPED_TESTS = 'TypedTest' in test_list$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "ToUnixLineEnding", "path": "/home/kavia/workspace/code-generation/offline-to-do-list-manager-148807-148823/native_app/build/_deps/googletest-src/googletest/test/googletest-output-test.py", "pattern": "/^def ToUnixLineEnding(s):$/", "language": "Python", "kind": "function", "signature": "(s)"}, {"_type": "tag", "name": "golden_file", "path": "/home/kavia/workspace/code-generation/offline-to-do-list-manager-148807-148823/native_app/build/_deps/googletest-src/googletest/test/googletest-output-test.py", "pattern": "/^      golden_file = open(GOLDEN_PATH, 'wb')$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "output", "path": "/home/kavia/workspace/code-generation/offline-to-do-list-manager-148807-148823/native_app/build/_deps/googletest-src/googletest/test/googletest-output-test.py", "pattern": "/^      output = GetOutputOfAllCommands()$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "testOutput", "path": "/home/kavia/workspace/code-generation/offline-to-do-list-manager-148807-148823/native_app/build/_deps/googletest-src/googletest/test/googletest-output-test.py", "pattern": "/^  def testOutput(self):$/", "language": "Python", "kind": "member", "signature": "(self)", "scope": "GTestOutputTest", "scopeKind": "class"}, {"_type": "tag", "name": "test_list", "path": "/home/kavia/workspace/code-generation/offline-to-do-list-manager-148807-148823/native_app/build/_deps/googletest-src/googletest/test/googletest-output-test.py", "pattern": "/^test_list = GetShellCommandOutput(COMMAND_LIST_TESTS)$/", "language": "Python", "kind": "variable"}], "hash": "7ea834dcc73b989ea9e66643bb33bafa", "format-version": 4, "code-base-name": "native_app", "filename": "native_app/build/_deps/googletest-src/googletest/test/googletest-output-test.py", "fields": [{"name": "CAN_GENERATE_GOLDEN_FILE = (", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "CATCH_EXCEPTIONS_ENV_VAR_NAME = 'GTEST_CATCH_EXCEPTIONS'", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "COMMAND_LIST_TESTS = ({}, [PROGRAM_PATH, '--gtest_list_tests'])", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "COMMAND_WITH_COLOR = ({}, [PROGRAM_PATH, '--gtest_color=yes'])", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "COMMAND_WITH_DISABLED = (", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "COMMAND_WITH_SHARDING = (", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "COMMAND_WITH_TIME = (", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "GENGOLDEN_FLAG = '--gengolden'", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "GOLDEN_NAME = 'googletest-output-test-golden-lin.txt'", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "GOLDEN_PATH = os.path.join(gtest_test_utils.GetSourceDir(), GOLDEN_NAME)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "IS_LINUX = os.name == 'posix' and os.uname()[0] == 'Linux'", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "IS_WINDOWS = os.name == 'nt'", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "NO_STACKTRACE_SUPPORT_FLAG = '--no_stacktrace_support'", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "PROGRAM_PATH = gtest_test_utils.GetTestExecutablePath('googletest-output-test_')", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "SUPPORTS_DEATH_TESTS = 'DeathTest' in test_list", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "SUPPORTS_STACK_TRACES = NO_STACKTRACE_SUPPORT_FLAG not in sys.argv", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "SUPPORTS_THREADS = 'ExpectFailureWithThreadsTest' in test_list", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "SUPPORTS_TYPED_TESTS = 'TypedTest' in test_list", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "golden_file = open(GOLDEN_PATH, 'wb')", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "output = GetOutputOfAllCommands()", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "test_list = GetShellCommandOutput(COMMAND_LIST_TESTS)", "scope": "", "scopeKind": "", "description": "unavailable"}], "revision_history": [{"577": ""}]}